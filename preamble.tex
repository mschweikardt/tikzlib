\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{siunitx}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{pgfplots.groupplots}

\usepackage{nicefrac}

\usepackage{circuitikz}

\ctikzset{bipoles/resistor/width=0.5}
\ctikzset{bipoles/resistor/height=0.2}
\ctikzset{bipoles/capacitor/width=0.1}
\ctikzset{bipoles/capacitor/height=0.4}
\ctikzset{bipoles/americaninductor/width=0.6}
\ctikzset{bipoles/americaninductor/height=0.2}

\ctikzset{bipoles/vsource/width=0.5}
\ctikzset{bipoles/vsource/height=0.5}
\ctikzset{bipoles/isource/width=0.5}
\ctikzset{bipoles/isource/height=0.5}
\ctikzset{bipoles/isourceam/width=0.5}
\ctikzset{bipoles/isourceam/height=0.5}

\ctikzset{tripoles/mos style/arrows}
\ctikzset{tripoles/pmos style/nocircle}
\ctikzset{tripoles/nmos/base height=.375}
\ctikzset{tripoles/nmos/width=.5}
\ctikzset{tripoles/nmos/height=1}
\ctikzset{tripoles/pmos/base height=.375}
\ctikzset{tripoles/pmos/width=.5}
\ctikzset{tripoles/pmos/height=1}

\ctikzset{bipoles/cisourceam/height=0.5}
\ctikzset{bipoles/cisourceam/width=0.5}
\ctikzset{bipoles/cvsourceam/height=0.5}
\ctikzset{bipoles/cvsourceam/width=0.5}

\tikzstyle{voltarrow}=[-{Latex[round]},semithick,shorten <=3pt,shorten >=3pt]

\usepackage{amsmath}

\usepackage{smartdiagram}

\smartdiagramset{ uniform color list=white for 4 items
                , sequence item border color=black
                , sequence item border size=0.5pt
                , sequence item text color=black
                , font=\footnotesize
                }

% Source: https://tex.stackexchange.com/questions/52514/tikz-signal-flow-graphs-illustrating-masons-rule
\newif\iflabrev
\tikzset{label revd/.is if=labrev}
\tikzset{terminal/.style 2 args={draw,circle,inner sep=2pt,label={#1:#2}}}
\tikzset{amark/.style={
          decoration={             
                        markings,   
                        mark=at position {0.5} with { 
                            \arrow{Latex},
                            \iflabrev \node[above] {#1};\else \node[below] {#1};\fi
                        }
            },
            postaction={decorate}
        }
}