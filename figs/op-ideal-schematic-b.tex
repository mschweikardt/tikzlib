\newcommand{\OpIdealSchematicB}
{
  \newcommand\height{2.0}
  \draw [] (0, \height/2)                       coordinate (vip) 
     to [short,o-] ++ (1,0)
     to [R,l_=$R_{\mathrm{i}}$] ++ (0,-\height) coordinate (x)
     to [short,-o]                 (x-|vip)     coordinate (vin);

  \draw (5.5, \height/2) coordinate (vop)  
       to [short,o-] ++ (-1.25,0) coordinate (rop)  
       to [short,*-] ++ (-2.25,0)
       to [ american controlled current source
          , l=$G_{\mathrm{m}} \cdot \underline{V}_{\mathrm{I}}$
          , -*
          , invert
          ] ++ (0,-\height) coordinate (gnd)
       to [short,-*] (gnd-|rop) coordinate (ron)         
       to [short,-o] (gnd-|vop) coordinate (von);

  \draw (rop) to [R,l=$R_{\mathrm{o,p}}$]  (ron);

  \node[ground] at (gnd) {};

  \path [voltarrow] (vip) edge node [midway,left,inner sep=2pt] 
    {$\underline{V}_{\mathrm{I}}$} (vin);
  \path [voltarrow] (vop) edge node [midway,right,inner sep=2pt] 
    {$\underline{V}_{\mathrm{O}}$} (von);

  \node[anchor=east] at (vip) {IP};
  \node[anchor=east] at (vin) {IN};
  \node[anchor=west] at (vop) {O};  
}